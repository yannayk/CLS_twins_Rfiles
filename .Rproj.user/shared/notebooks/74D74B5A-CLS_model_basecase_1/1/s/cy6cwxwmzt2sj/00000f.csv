"0","## GENERAL SETUP ##"
"0",""
"0","# Modelling population size"
"0","n <- 10^5 "
"0",""
"0","# Multiplier for twins assuming equal outcomes "
"0","twin_factor <- 2 "
"0",""
"0","# Cycle length (Converstion to prob, and markov) ### MOVE TO MARKOVE SECTION?"
"0","cycle_length <- 1 "
"0",""
"0","# Three strategies:"
"0","  # s1: no cervical length (CL) screening"
"0","  # s2: single-visit CL screen"
"0","  # s3: two-visit CL screen"
"0","v_strats <- c(""s1"", ""s2"", ""s3"")"
"0","n_strats <- length(v_strats)"
"0",""
"0","# Strategy definitions for plotting"
"0","strat_names <- c(s1 = ""No screen"", s2 = ""One-step screen"", s3 = ""Two-step screen"")"
"0","v_strat_colors <- c(s1 = ""#F8766D"", s2 = ""#00BA38"", s3 = ""#619CFF"")"
"0",""
"0","# Gestational age category names"
"0","v_GA_cat <- c(""< 28"", ""28-32"", ""32-34"", ""34-37"", ""> 37"")"
"0","n_GA_cat <- length(v_GA_cat)"
"0",""
"0","# Maximum number of scans for patients who screen positive, including screening scans (18, 19, 20, 21, 22, 23, 24)"
"0","n_scans <- 7"
"0",""
"0","# Duration of progesterone intake by GA category"
"0","# Conservative assumptions: all start at 18 weeks and end at 36"
"0","prog_start <- 18"
"0","prog_stop  <- 36"
"0",""
"0","# All patients take to the maximum of their GA category"
"0","wks <- c(28 - prog_start, "
"0","         32 - prog_start, "
"0","         34 - prog_start, "
"0","         prog_stop - prog_start, "
"0","         prog_stop - prog_start) "
"0",""
"0","## PROBABILITIES ##"
"0",""
"0","### CL measurement rates"
"0",""
"0","# CL measurement at first visit 1 (t1)"
"0","p_cl25_t1 <- 0.044 # <= 25 mm "
"0","p_cl15_t1 <- 0.468 # <= P(<15|<=25)"
"0",""
"0","# CL measurement at second visit at +2 wks (t2)"
"0","p_cl25_t2 <- 0.076 # <= P(<25 mm) "
"0","p_cl15_t2 <- 0.377 # <= P(<15|<=25)"
"0",""
"0","### Treatment uptake"
"0","p_prog    <- 1 # Rate of progesterone use when CL <= 25 mm"
"0","p_pY_cerc <- 1 # Rate of cerclage, given CL <= 15 mm AND progesterone YES"
"0","p_pN_cerc <- 0 # rate of cerclage, given CL <= 15 mm AND progesterone NO"
"0",""
"0","### GA delivery rates given CL screen result"
"0",""
"0","## CL >= 25 mm (screen negative ""N"")"
"0","# Detected on second screen (t2) "
"0","p_clN_28_t2 <- 0.011"
"0","p_clN_32_t2 <- 0.026"
"0","p_clN_34_t2 <- 0.062"
"0","p_clN_37_t2 <- 0.573"
"0",""
"0","## CL 15-25 mm"
"0","# Detected on t1 scan"
"0","p_cl25_28_t1 <- 0.118"
"0","p_cl25_32_t1 <- 0.133"
"0","p_cl25_34_t1 <- 0.077"
"0","p_cl25_37_t1 <- 0.500"
"0","  "
"0","# Detected on t2 scan, given t1 negative"
"0","p_cl25_28_t2 <- 0.087"
"0","p_cl25_32_t2 <- 0.119"
"0","p_cl25_34_t2 <- 0.135"
"0","p_cl25_37_t2 <- 0.563"
"0",""
"0","## CL <= 15 mm"
"0","# Detected on first screen (t1)"
"0","p_cl15_28_t1 <- 0.533"
"0","p_cl15_32_t1 <- 0.143"
"0","p_cl15_34_t1 <- 0"
"0","p_cl15_37_t1 <- 0.5"
"0",""
"0","# Detected on second screen (t2)"
"0","p_cl15_28_t2 <- 0.303"
"0","p_cl15_32_t2 <- 0.304"
"0","p_cl15_34_t2 <- 0.063"
"0","p_cl15_37_t2 <- 0.533"
"0",""
"0","# Effectiveness of progesterone (RR)"
"0","rr_p_28 <- 0.53"
"0","rr_p_32 <- 0.83"
"0","rr_p_34 <- 0.83"
"0","rr_p_37 <- 1"
"0",""
"0","# Effectiveness of cerclage alone (RR)"
"0","rr_c_28 <- 0.56"
"0","rr_c_32 <- 0.78"
"0","rr_c_34 <- 0.30"
"0","rr_c_37 <- 1.00"
"0",""
"0","# Effectiveness of cerclage AND progesterone (assumed to be effect of cerclage alone)"
"0","rr_cp_28 <- rr_c_28"
"0","rr_cp_32 <- rr_c_32"
"0","rr_cp_34 <- rr_c_34"
"0","rr_cp_37 <- rr_c_37"
"0",""
"0","## TREE-RELATED COSTS ##"
"0","c_s  <- 75.30  # one ultrasound scan"
"0","c_c  <- 3614.36 # cerclage"
"0","c_p  <- 20.16  # progesterone per week"
"0",""
"0","# Prog cost for a given GA category"
"0","v_c_wks <- c_p * wks"
"0",""
"0","# Mean delivery cost per pregnancy by GA"
"0","c_del_28 <- 5489"
"0","c_del_32 <- 5489"
"0","c_del_34 <- 5489"
"0","c_del_37 <- 5489"
"0","c_del_term <- 5489"
"0",""
"0","# Vector of delivery costs by GA"
"0","v_c_del_GA <- c(c_del_28, c_del_32, c_del_34, c_del_37, c_del_term)"
